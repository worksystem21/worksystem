<!DOCTYPE html>
<html>
<head>
    <title>Sistema de Sorteo de Premios</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <style>
        /* Estilos adicionales personalizados */
        body {
            background-color: #f0f0f0;
        }
        .center-container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        .btn-large {
            font-size: 24px;
            padding: 16px 32px;
        }
        .resultado-grande {
            font-size: 36px;
            color: blue; /* Cambiar el color del texto a azul */
        }
    </style>
</head>
<body>
    <div class="center-container">
        <div class="container text-center">
            <h1>Sistema de Sorteo de Premios</h1>
            <br>
            <button id="sortearBtn" class="btn btn-primary btn-large" onclick="sortearPremios()">Sortear Premios</button>
            <p id="resultado" class="mt-3 resultado-grande"></p>
            <div class="mt-3">
                <!-- Botones de URL -->
                <a href="https://forms.gle/DQBC9EHCTr9FG3ag7" target="_blank" class="btn btn-success mr-3">Activar Bono</a>
                <br>
                <a href="https://forms.gle/6Ex5GqSXhn2dYCBe8" target="_blank" class="btn btn-danger ">Encuesta</a>
            </div>
        </div>
    </div>

    <script>
        // Función para sortear premios
        function sortearPremios() {
            const sortearBtn = document.getElementById('sortearBtn');
            const resultado = document.getElementById('resultado');

            // Desactiva el botón mientras se realiza el sorteo
            sortearBtn.disabled = true;

            // Define los premios disponibles
            const premiosDisponibles = [
                "Descuento 10% en la Primera Compra",
                "Descuento 15% en la Primera Compra",
                "Descuento 20% en la Primera Compra",
                "Bono Extendido Happy Hour 23:00 horas",
                "Bono 2X1 cocteles",
                "Cóctel de Bienvenida",
                "Bono Consumible de $15.000 en Licores",
                "Descuento 50% día de Cumpleaños en Botella de Nectar",
                "Descuento del 50% en Almuerzo del día",
                "Descuento 15% en Almuerzo Especial",
            ];

            // Inicializa el contador regresivo
            let segundosRestantes = 5; // Puedes ajustar el tiempo aquí
            const intervalo = setInterval(function() {
                sortearBtn.textContent = `Sorteando en ${segundosRestantes} segundos...`;
                segundosRestantes--;

                if (segundosRestantes < 0) {
                    clearInterval(intervalo);

                    // Comprueba si quedan premios por sortear
                    if (premiosDisponibles.length === 0) {
                        resultado.textContent = "No quedan premios disponibles.";
                    } else {
                        // Genera un índice aleatorio para seleccionar un premio
                        const indiceAleatorio = Math.floor(Math.random() * premiosDisponibles.length);

                        // Obtiene el premio seleccionado
                        const premioGanado = premiosDisponibles[indiceAleatorio];

                        // Elimina el premio ganado de la lista de premios disponibles
                        premiosDisponibles.splice(indiceAleatorio, 1);

                        // Muestra el premio ganado
                        resultado.textContent = `¡Has ganado: ${premioGanado}!`;
                    }

                    // Cambia el texto del botón a "Sortear Premios" y reactiva el botón
                    sortearBtn.textContent = "Sortear Premios";
                    sortearBtn.disabled = false;
                }
            }, 1000);
        }
    </script>

    <!-- Agrega la biblioteca JavaScript de Bootstrap al final del cuerpo -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>
