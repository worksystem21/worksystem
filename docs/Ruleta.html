<!DOCTYPE html>
<html>
<head>
    <title>Sistema de Sorteo de Premios</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>
    <div class="container mt-5">
        <div class="row">
            <div class="col-12 text-center">
                <h1>Sistema de Sorteo de Premios</h1>
                <button id="sortearBtn" class="btn btn-primary btn-lg" onclick="sortearPremios()">Sortear Premios</button>
                <p id="resultado" class="mt-3"></p>
            </div>
        </div>
    </div>

    <script>
        // Función para sortear premios
        function sortearPremios() {
            const sortearBtn = document.getElementById('sortearBtn');
            const resultado = document.getElementById('resultado');

            // Desactiva el botón mientras se realiza el sorteo
            sortearBtn.disabled = true;

            // Define los premios disponibles
            const premiosDisponibles = [
                "Descuento 10% en la Primera Compra",
                "Descuento 15% en la Primera Compra",
                "Descuento 20% en la Primera Compra",
                "Bono Extendido Happy Hour 23:00 horas",
                "Bono 2X1 cocteles",
                "Cóctel de Bienvenida",
                "Bono Consumible de $15.000 en Licores",
                "Descuento 50% día de Cumpleaños en Botella de Nectar",
                "Descuento del 50% en Almuerzo del día",
                "Descuento 15% en Almuerzo Especial",
            ];

            // Inicializa el contador regresivo
            let segundosRestantes = 5; // Puedes ajustar el tiempo aquí
            const intervalo = setInterval(function() {
                sortearBtn.textContent = `Sorteando en ${segundosRestantes} segundos...`;
                segundosRestantes--;

                if (segundosRestantes < 0) {
                    clearInterval(intervalo);

                    // Comprueba si quedan premios por sortear
                    if (premiosDisponibles.length === 0) {
                        resultado.textContent = "No quedan premios disponibles.";
                    } else {
                        // Genera un índice aleatorio para seleccionar un premio
                        const indiceAleatorio = Math.floor(Math.random() * premiosDisponibles.length);

                        // Obtiene el premio seleccionado
                        const premioGanado = premiosDisponibles[indiceAleatorio];

                        // Elimina el premio ganado de la lista de premios disponibles
                        premiosDisponibles.splice(indiceAleatorio, 1);

                        // Muestra el premio ganado
                        resultado.textContent = `¡Has ganado: ${premioGanado}!`;
                    }

                    // Reactiva el botón después de mostrar el resultado
                    sortearBtn.disabled = false;
                }
            }, 1000);
        }
    </script>

    <!-- Agrega la biblioteca JavaScript de Bootstrap al final del cuerpo -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>
